<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Level 2: Phonics Fun - Learning Land</title>
  <link rel="stylesheet" href="reading.css" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <style>
    /* Minimal extras to match your Alphabet page vibe */
    .max-w-3xl { max-width: 960px; margin: auto; }
    .pixel-border { border: 4px solid #6b8e23; padding: 10px; }
    .bg-soft-white { background-color: rgba(255,255,255,0.8); }
    .text-sage-green { color: #6b8e23; }
    .pixel-button { font-family: 'Press Start 2P', cursive; padding: 10px 14px; cursor: pointer; border: 3px solid #6b8e23; background: #f9fbe7; border-radius: 6px; }
    .options { display: grid; grid-template-columns: repeat(4, minmax(60px, 1fr)); gap: 10px; justify-items: center; }
    .word-card { display: inline-flex; align-items: center; gap: 12px; padding: 12px 16px; border: 3px dashed #6b8e23; border-radius: 8px; background: #fff; }
    .emoji { font-size: 2rem; }
    .big { font-size: 1.4rem; }
    .mb-2 { margin-bottom: .5rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-6 { margin-bottom: 1.5rem; }
    .mb-8 { margin-bottom: 2rem; }
    .center { text-align: center; }
    .flex { display: flex; }
    .gap-2 { gap: .5rem; }
    .justify-between { justify-content: space-between; }
    .items-center { align-items: center; }
    .p-4 { padding: 1rem; }
    .p-8 { padding: 2rem; }
    .invisible { visibility: hidden; }
    .back-link { display:inline-block; margin-top: 16px; text-decoration: none; color:#2e7d32; }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="arcade-mascot.png" alt="Learning Land Mascot">
      <span>Learning Land</span>
    </div>
    <nav>
      <ul>
        <li><a href="homepage.html">üè† Home</a></li>
        <li><a href="reading.html" class="active">üìñ Reading</a></li>
        <li><a href="writing.html">‚úèÔ∏è Writing</a></li>
        <li><a href="math.html">üßÆ Math</a></li>
        <li><a href="awards.html">üèÜ Awards</a></li>
      </ul>
    </nav>
  </header>

  <main class="max-w-3xl">
    <!-- Scorebar -->
    <div class="flex justify-between items-center p-4 pixel-border bg-soft-white mb-6">
      <p id="question-counter" class="text-sage-green">Question: 1/8</p>
      <p id="score" class="text-sage-green">Score: 0</p>
    </div>

    <!-- Game card -->
    <div class="p-8 pixel-border bg-soft-white center">
      <h2 class="text-sage-green big mb-6">Tap the first sound (letter)!</h2>

      <div class="mb-8">
        <div class="word-card">
          <span id="emoji" class="emoji" aria-hidden="true">üçé</span>
          <span id="word" class="big">apple</span>
        </div>
      </div>

      <div id="options" class="options mb-6"></div>

      <div id="feedback" class="big mb-4"></div>

      <div class="flex items-center center" style="justify-content:center;">
        <button id="next-btn" class="pixel-button invisible">Next</button>
        <button id="reset-btn" class="pixel-button" style="margin-left:10px;">Reset</button>
      </div>

      <a href="reading.html" class="back-link">‚Üê Back to Reading</a>
    </div>
  </main>

  <footer style="text-align:center; padding:20px; font-size:0.8em; color:#777;">
    &copy; 2025 Learning Land. All rights reserved.
  </footer>

  <script>
    // Simple phonics bank: word ‚Üí emoji ‚Üí first letter
    const bank = [
      { word: 'apple',     emoji: 'üçé', first: 'A' },
      { word: 'ball',      emoji: '‚öΩ', first: 'B' },
      { word: 'cat',       emoji: 'üê±', first: 'C' },
      { word: 'dog',       emoji: 'üê∂', first: 'D' },
      { word: 'egg',       emoji: 'ü•ö', first: 'E' },
      { word: 'fish',      emoji: 'üêü', first: 'F' },
      { word: 'grapes',    emoji: 'üçá', first: 'G' },
      { word: 'hat',       emoji: 'üé©', first: 'H' },
      { word: 'ice',       emoji: 'üßä', first: 'I' },
      { word: 'juice',     emoji: 'üßÉ', first: 'J' },
      { word: 'kite',      emoji: 'ü™Å', first: 'K' },
      { word: 'leaf',      emoji: 'üçÉ', first: 'L' },
      { word: 'moon',      emoji: 'üåô', first: 'M' },
      { word: 'nest',      emoji: 'ü™∫', first: 'N' },
      { word: 'orange',    emoji: 'üçä', first: 'O' },
      { word: 'pizza',     emoji: 'üçï', first: 'P' },
      { word: 'queen',     emoji: 'üë∏', first: 'Q' },
      { word: 'rose',      emoji: 'üåπ', first: 'R' },
      { word: 'sun',       emoji: '‚òÄÔ∏è', first: 'S' },
      { word: 'turtle',    emoji: 'üê¢', first: 'T' },
      { word: 'umbrella',  emoji: '‚òÇÔ∏è', first: 'U' },
      { word: 'violin',    emoji: 'üéª', first: 'V' },
      { word: 'whale',     emoji: 'üê≥', first: 'W' },
      { word: 'xylophone', emoji: 'üéº', first: 'X' }, // approximation
      { word: 'yarn',      emoji: 'üß∂', first: 'Y' },
      { word: 'zebra',     emoji: 'ü¶ì', first: 'Z' },
    ];

    const totalQuestions = 8;
    let score = 0;
    let q = 0;
    let current = null;
    let locked = false;

    const questionCounter = document.getElementById('question-counter');
    const scoreEl = document.getElementById('score');
    const optionsEl = document.getElementById('options');
    const feedbackEl = document.getElementById('feedback');
    const nextBtn = document.getElementById('next-btn');
    const resetBtn = document.getElementById('reset-btn');
    const wordEl = document.getElementById('word');
    const emojiEl = document.getElementById('emoji');

    function shuffle(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function newQuestion() {
      q++;
      locked = false;
      feedbackEl.textContent = '';
      nextBtn.classList.add('invisible');

      if (q > totalQuestions) {
        feedbackEl.textContent = `Game over! Final score: ${score}`;
        optionsEl.innerHTML = '';
        questionCounter.textContent = `Question: ${totalQuestions}/${totalQuestions}`;
        return;
      }

      // pick a random bank item
      current = bank[Math.floor(Math.random() * bank.length)];
      wordEl.textContent = current.word;
      emojiEl.textContent = current.emoji;

      // Build 4 options: the correct first letter + 3 distractors
      const letters = new Set([current.first]);
      while (letters.size < 4) {
        const candidate = String.fromCharCode(65 + Math.floor(Math.random() * 26));
        letters.add(candidate);
      }
      const choices = shuffle([...letters]);

      // Render options
      optionsEl.innerHTML = '';
      choices.forEach(letter => {
        const btn = document.createElement('button');
        btn.className = 'pixel-button';
        btn.textContent = letter;
        btn.onclick = () => check(letter);
        optionsEl.appendChild(btn);
      });

      questionCounter.textContent = `Question: ${q}/${totalQuestions}`;
      scoreEl.textContent = `Score: ${score}`;
    }

    function check(letter) {
      if (locked) return;
      locked = true;

      if (letter === current.first) {
        score += 15;
        feedbackEl.style.color = 'green';
        feedbackEl.textContent = '‚úÖ Correct!';
      } else {
        feedbackEl.style.color = 'red';
        feedbackEl.textContent = `‚ùå Oops! It starts with "${current.first}".`;
      }

      scoreEl.textContent = `Score: ${score}`;
      nextBtn.classList.remove('invisible');
    }

    nextBtn.onclick = () => newQuestion();

    resetBtn.onclick = () => {
      score = 0;
      q = 0;
      scoreEl.textContent = 'Score: 0';
      newQuestion();
    };

    // Start
    newQuestion();
  </script>
</body>
</html>
